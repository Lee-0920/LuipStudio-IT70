LuipStudio 版本更新记录

===========================================
LuipStudio V2.3.7.7    陆帝君  2018.12.12
===========================================
1.结果详情窗口调用时增加角色权限参数传递
2.采用信号槽方式更新主界面排期预测信息
3.优化状态条类，防止跨线程操作UI元素导致程序崩溃
4.优化Luip进程和monitor进程间的本地sokect的通信机制。

===========================================
LuipStudio V2.3.7.7    陆帝君  2018.12.12
===========================================
1.解决web端清除故障时，清不了运行故障

===========================================
LuipStudio V2.3.7.6    雍希  2018.10.12
===========================================
1.信号管理器开放获取注册上报信号值的接口到lua
2.完善测量排期界面隐藏行数功能

===========================================
LuipStudio V2.3.7.5    雍希  2018.10.09
===========================================
1.下边栏实时信号显示可通过脚本配置
2.多参数定标曲线界面可差异化显示
3.云平台恢复数据时不恢复仪器已有的数据
4.公司版本强制显示二维码，无法关闭，OEM版本可根据需要开、关二维码；

===========================================
LuipStudio V2.3.7.4    陆帝君  2018.09.28
===========================================
1、取消用户权限的枚举增加Max权限；
2、增加水质云接口的组合操作的业务;
3、放开智能诊断的“诊断中...”上报给云平台；
===========================================
LuipStudio V2.3.7.3    陆帝君  2018.09.27
===========================================
1.解决上传上传单位和倍率到水质云不成功的bug，修改赋值方式；
2、用户权限的枚举增加Max权限，用于所有用户都只读的限制；
3、修改组合操作的界面布局；
4、解决日志加密打包导出到U盘时，不完整的bug，主要是过快拔出U盘导致缓存没有写到U盘；
===========================================
LuipStudio V2.3.7.0     万宇  2018.09.10
===========================================
1.平台升级检测是否存在“主控板生产检测工装”软件的升级包；
2.升级界面“升级版本”字段显示完整的版本号
===========================================
LuipStudio V2.3.5.1     雍希  2018.07.27
===========================================
1.系统参数增加出厂激活后就消失的选项功能(兼容NT92多参数需求)
2.屏保线程放到MainWindow中执行；
3.屏保背光调节方式修改，解决黑屏问题，兼容新旧内核；
4.修改保持登录的退出机制。

===========================================
LuipStudio V2.3.5.0     雍希  2018.07.20
===========================================
1.平台增加修改系统时间，同步修改测量排期的时间。
2.仪器信息界面增加二维码显示
3.增加四级权限。
4.修复4-20兼容老版本核查输出的bug
5.修复云平台点停止导致故障状态变空闲的bug
6.解决智能诊断界面可能出现多余行数的bug
7.出厂激活后登录超级管理员采用动态密码
8.出厂激活后导出日志加密
9.外联接口/系统参数本地更改后增加倒计时重启提示框
10.兼容新主控板的4-20
11.清除数据时把对应的备份文件删掉
12.去掉界面上告警字符串的显示
13.管理员开放日志导出。
14.水质云增加出厂激活接口。
15.修复文件无法上传的bug
16.增加获取系统运行时间接口
17.通过新的方式消除UI的蓝边，防止旧的方式造成程序段错误挂掉
18.云平台激活或恢复出厂后更新对应界面

===========================================
LuipStudio V2.2.5.4     2018.05.30
===========================================
1、兼容水样4-20双路输出机型（去掉了核查样）
2、PT62DriveControllerPlugin改为PT63DriveControllerPlugin
3、增加机箱风扇管理功能
4、液路板插件增加粘稠定量方式
5、增加机箱风扇自动降温使能接口
6、平台版本升级到2.2.5.4
===========================================
LuipStudio V2.2.5.2    陆帝君  2018.05.14
===========================================
1、OEM的软件版本增加“BL”标识。
2、增加水质连接失败的时候，输出日子。
3、取消掉提示信息框的logo。

===========================================
LuipStudio V2.2.5.1    陆帝君  2018.05.04
===========================================
1、在获取lua值和设置lua值的函数加锁。

===========================================
LuipStudio V2.2.4.1    雍希  2018.04.03
===========================================
1.修复管道操作界面可能显示不全的bug

===========================================
LuipStudio V2.2.4.0    雍希  2018.03.30
===========================================
1.解决智能诊断一键检测项为空仍输出日志的bug

===========================================
LuipStudio V2.2.3.9    雍希  2018.03.22
===========================================
1.取消网络设置更改后，解除挂载的操作

===========================================
LuipStudio V2.2.3.8    梁力文  2018.03.20
===========================================
1.网络设置从动态改为静态时，自动断开/home下的挂载。

===========================================
LuipStudio V2.2.3.7    梁力文  2018.03.14
===========================================
1.修改屏幕保护参数被云平台修改后逻辑混乱BUG，具体BUS为仪器自动熄屏后在云平台将屏幕保护关闭，
仪器不再能点亮；屏幕保护为开，黑屏时在云平台改变时间，比现在长，仪器点不亮；亮屏的时候超过60秒后把300时间改为60秒，改短不会黑屏。

===========================================
LuipStudio V2.2.3.6    雍希  2018.03.12
===========================================
1.1、解决正在执行流程，点击硬件测试没有正在空闲对话框。

===========================================
LuipStudio V2.2.3.5    雍希  2018.03.08
===========================================
1.修复故障状态下排期会累积流程的bug
2.修复测量排期改为连续测量，同时点击硬件测试导致系统状态条混乱的bug。
3.调整测量排期线程和测量流线程的lua栈。
4.修改测量排期，防止每次更新排期都打印“尚有流程执行"

===========================================
LuipStudio V2.2.3.4    雍希  2018.02.26
===========================================
1.新增故障停机功能
2.修复云平台管道操作无法传小数体积的bug
3.修复连续下载文件的BUG。
4.解决测量排期改为连续测量，同时点击硬件测试导致系统状态条混乱的bug。

===========================================
LuipStudio V2.2.3.3    陆帝君  2018.01.30
===========================================
1.用户停止不再停止两次控制器;
2.修复网络设置界面和参数设置界面同步的问题;
3.维护界面恢复被去掉的参数权限限制;
4.主控板升级前关闭modbus tcp连接，防止升级后因端口占用无法使用tcp modbus;
5.云平台触摸屏校准已成功启动后不能再次启动;
6.测量排期，增加线程，解决其他线程更新测量排期时，启动定时器产生警告;
7.测量流程，修改线程，将流程moveToThread到线程中，通过信号槽启动流程，解决其他线程启动测量流程线程产生警告;
8.用户停止不再停止两次控制器。

===========================================
LuipStudio V2.2.3.2     雍希 2018.01.23
===========================================
1.外联接口中网络模式设置变更后刷新系统网络设置界面
2.硬件测试操作增加延迟，防止抢占流程状态
3.下位机升级兼容单独hex文件升级，如果不存在upg升级包存在hex文件，则会使用hex文件升级。

===========================================
LuipStudio V2.2.3.1     雍希 2018.01.16
===========================================
1.解决下位机通信异常，恢复正常后，不进行连续测量的bug
2.先进行数据迁移再备份文件。
3.修改数据界面翻页BUG
4.修改云平台接口
5.修改文件下载完成时文件大小显示错误的BUG
6.在共享内存增加临界
7.向管理员开放管道操作体积输入

===========================================
LuipStudio V2.2.3.0     雍希 2018.01.11
===========================================
1.解决检索之后结果详情错误的BUG。
2.增加兼容V1平台十六进制MODBUS时间格式的接口
3.采用加宽显示板的方式解决6位小数显示不全的问题

===========================================
LuipStudio V2.2.2.0     陆帝君 2017.12.28
===========================================
1.桥接模式：添加仪器平台版本号和型码命令
2.删除升级时的通信限制：删除流程中启动C流程，云平台启动升级和运维升级界面升级的通信限制
3.修改HttpClient类，只实现Http的Get和Post表单的方法，添加超时机制，60秒无数据变化则中断
4.增加云平台管道操作的参数校验。
5.添加云平台启动触摸屏，恢复出厂模式，接收云平台测量数据，获取数据目录的文件功能和上传文件功能
6.删除上传状态和动作的2s等待。
7.RecordDataReader 更改为OperateRecordData，添加设置RecordData特定字段的数值
8.修改拷贝类日志输出错误
9.Uncompress添加压缩单个文件函数。
10.运维升级界面添加型码的限制，只能使用型码一致的升级包
11.系统设置界面每次进来都刷新本界面
12.修改升级下位机时多次删除升级包BUG
13.添加云平台文件系统接口，获取指定路径的文件信息，上传文件，下载文件，删除文件，创建文件夹接口
14.修改仪器下载服务器文件功能，在线升级下载文件和云平台文件系统下载文件可同时进行
15.修改云平台设置设置界面IP参数为网址时设置失败的BUG
16.修改添加测量结果接口，可以选择是否上传测量数据给云平台
17.上传单位字符以及倍数给云平台
18.修改上传标线给云平台的功能，K，B值更改成功上传数字和格式
19.修改删除文件夹的函数BUG,使其可以删除带有隐藏文件的文件夹
20.修改测量数据备份功能，仪器启动时，原数据正常，则进行备份。如果原数据仪器，则拷贝备份数据。
21.云平台修改排期设置后立刻更新排期管理器
22.标线数值和字符串内部转换采用9位小数精度
23.修改单位转换不存在时，上传单位的BUG。
24.云平台获取当前目录命令支持获取隐藏文件。
25.修复云平恢复所有界面的BUG。
26.修改重启仪器的BUG。

===========================================
LuipStudio V2.2.1.0     雍希 2017.12.18
===========================================
1.维护界面添加权限。
2.平台增加永久权限标志。
3.修复部分目标参数隐藏后管道操作界面多余空白栏bug
4.4-20mA输出管理器开放电流驱动接口
5.在云平台授权接口对大于2038.01.01 00:00:00检查，若大于返回false
6.仪器界面点击告警字符串后清除当前报警码
7.优化结果显示模块中初始化包含单位转换功能情况的部分代码
8.修复云平台上管道操作界面消失的bug
9.修复多线程操作动作条导致软件崩溃的bug
10.修复日志翻页导致软件崩溃的bug
11.优化日志检索速度

===========================================
LuipStudio V2.2.0.0     雍希 2017.12.04
===========================================
1.记录检索日期起始小于等于结束
2.试剂/耗材更换周期限制2位整数以内
3.修改云平台连接端开、重连，图标闪烁的问题
4.新增脚本加密相关改动
5.Windows版界面开放拖动功能
6.添加主界面画线启动触摸屏校准
7.修改获取网关地址的bug
8.定标曲线输入界面增加格式限制
9.修复目标参数隐藏时对应相关硬件测试项仍然显示的bug
10.智能诊断界面分为一键停止和(单项)停止按键，云平台停止与(单项)停止功能等同
11.测量结果采用固定小数位方式显示
12.添加设置校准界面失败时的日志输出。
13.改为静态模式，输入错误的IP地址，点击应用，确认错误的IP地址后，自动返回DHCP模式。
14.将给云平台上传状态、动作的接口延时2s，取消流程中的延时。
15.修改云平台管道操作参数无效的提示
16.改变告警文件，日志文件，测量数据文件，定标数据文件的路径。与luip文件夹分离。
17.仪器信息上传时添加平台版本号。
18.云平台恢复初始化时添加恢复的界面的名字。
19.升级界面，-v输出版本号改成仪器版本。
20.修改时间同步。
21.云平台端硬件测试实现更改为通过脚本执行返回结果，再更新对应界面状态。
22.添加触摸屏校准调试信息。
23.平台程序，在main函数的最后增加了加载lua的一个用于仪器上电操作的函数。
24.优化升级功能，升级前先执行名字带有"Tool.sh"的特殊脚本。
25.新增备份与恢复功能，运行一天后备份数据。在下一次程序启动时，如果测量数据破损，则会使用完整的备份文件。
26.完善结果数据迁移功能

===========================================
LuipStudio V2.1.0.8     雍希 2017.11.03
===========================================
1.结果详情功能根据脚本配置打开。
2.添加接口识别界面是否有报警。
3.添加设置系统时间的接口。
4.修复通信异常后程序崩溃的bug
5.数据面板增加检索起始日期需小于结束日期限制
6.普通用户模式下开放测量参数打开只能看见测量参数
7.解决普通用户模式下开放测量参数打开情况下仪器启动参数显示不全bug
8.耗材试剂增加输入范围限制
9.SN号增加输入规范限制
10.系统时间增加输入范围限制
11.修复管理员状态可更改工程师密码的漏洞
12.自动获取网络地址显示加宽
13.测量结果上传时添加结果格式。
14.定标结果改用其他字段上传K、B值。
15.信号上传时添加格式。
16.处理图标图片，消除告警。
17.完善运行权限功能，在云平台接口、modbus接口进行限制。
18.C++和Lua交互的标线数据采用double类型
19.解决CCEP输出参数类型码不对的bug，增加多参数适配参数类型码的功能。

===========================================
LuipStudio V2.1.0.6     梁力文 2017.10.16
===========================================
1.修改上传云平台UUID的转换方法。
2.修改系统信息界面，并增加平台版本。
3.修复MODBUS读取错地址错误后无法恢复的bug。
4.UI界面：设置项，操作项，诊断项按顺序上传给云平台。
5.增加云平台连接掉线重连的功能,读三次数据失败后等待30s后重连，修改仪器重连重复上传告警到云平台。增加仪器与云平台的心跳包。
6.修改云平台停止仪器命令BUG：使在连续测量情况下停止会把测量模式改为触发测量。
7.将流程过程中实时上传试剂余量到云平台改为流程结束后上传。
8.修改用户切换界面的菜单布局。
9.修改云平台的默认域名。
10.修改设置界面->外联接口->通信地址的校验函数BUG。
11.修改在普通用户登录工程师用户后更改测量数据界面的其他参数会产生新标线的BUG。
12.修改权限日期默认值到2038年，增加权限标注位。增加运行权限功能，权限过期后闲置测量排期和手动测量的操作。
13.修改“流程忙”对话框的逻辑bug。
14.在管理员用户下，可设置设置界面->系统参数->水质云:云服务开关。

===========================================
LuipStudio V2.1.0.0     梁力文 2017.09.27
===========================================
1.添加物联网功能。根据通信接口要求更改一些脚本格式以及获取脚本的接口。
2.重构测量排期机制。
3.主界面画线的触摸屏校准取消，由启动仪器时文件系统识别U盘文件就行启动。
4.添加出厂状态，出厂后不能登录工程师。在系统设置界面添加出厂激活按钮。
5.各个测量数据，日志，告警的清除不再由各自的界面清除，而由系统设置里的一键清除按钮清除。
6.设置界面下的系统参数添加物理网服务器参数配置。
7.上下位机的升级包更换为加密的压缩包。
8.修改主界面布局。
9.数据界面添加结果详情。

===========================================
LuipStudio V2.0.0.0     陆帝君 2017.06.05
===========================================
1.将log4cpp、lua、通信模块、各个驱动控制模块有动态库实现，进行动态加载，未改变仪器功能。
2.硬配参数、软配参数的设置和保存由lua脚本实现，未改变仪器功能；
3.相关流程功能，如测量、定标、清洗等流程由lua脚本实现，未改变仪器功能；
